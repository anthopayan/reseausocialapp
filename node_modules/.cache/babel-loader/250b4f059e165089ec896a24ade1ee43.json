{"ast":null,"code":"var _jsxFileName = \"/Users/kevinsasso/Desktop/THP/Next/reseausocialapp/src/components/CountPosts/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Cookies from 'js-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CountPosts() {\n  _s();\n\n  const token = Cookies.get('jwt');\n  const [messageliste, setWorkName] = React.useState({\n    count: [],\n    isFetching: false\n  });\n  const legnthliste = messageliste.count.length;\n  const API_URL = \"http://localhost:1337/posts/count\";\n  fetch(API_URL, {\n    method: 'get',\n    headers: {\n      'Authorization': `Bearer ${token}`,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify()\n  }).then(response => response.json()).then(function (response) {\n    console.log(response);\n\n    if (response.error !== 404) {\n      const responselength = response.length;\n\n      if (legnthliste !== responselength) {\n        console.log(response);\n        setWorkName({\n          count: response,\n          isFetching: false\n        });\n      }\n    }\n\n    ;\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"Nombre de posts:  \", messageliste.count]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CountPosts, \"mRgDw3V4vbVeQsSD4JpxhCAGSbw=\");\n\n_c = CountPosts;\nexport default CountPosts;\n\nvar _c;\n\n$RefreshReg$(_c, \"CountPosts\");","map":{"version":3,"sources":["/Users/kevinsasso/Desktop/THP/Next/reseausocialapp/src/components/CountPosts/index.jsx"],"names":["React","Cookies","CountPosts","token","get","messageliste","setWorkName","useState","count","isFetching","legnthliste","length","API_URL","fetch","method","headers","body","JSON","stringify","then","response","json","console","log","error","responselength"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;;;AAEA,SAASC,UAAT,GAAsB;AAAA;;AAClB,QAAMC,KAAK,GAAGF,OAAO,CAACG,GAAR,CAAY,KAAZ,CAAd;AACA,QAAM,CAACC,YAAD,EAAeC,WAAf,IAA8BN,KAAK,CAACO,QAAN,CAAe;AAACC,IAAAA,KAAK,EAAE,EAAR;AAAYC,IAAAA,UAAU,EAAE;AAAxB,GAAf,CAApC;AACA,QAAMC,WAAW,GAAGL,YAAY,CAACG,KAAb,CAAmBG,MAAvC;AACA,QAAMC,OAAO,GAAG,mCAAhB;AAEAC,EAAAA,KAAK,CAACD,OAAD,EAAU;AACXE,IAAAA,MAAM,EAAE,KADG;AAEXC,IAAAA,OAAO,EAAE;AACP,uBAAkB,UAASZ,KAAM,EAD1B;AAEP,sBAAgB;AAFT,KAFE;AAMXa,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL;AANK,GAAV,CAAL,CAQDC,IARC,CAQKC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EARlB,EASDF,IATC,CASI,UAASC,QAAT,EAAmB;AAC3BE,IAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;;AACI,QAAIA,QAAQ,CAACI,KAAT,KAAmB,GAAvB,EAA2B;AACvB,YAAMC,cAAc,GAAGL,QAAQ,CAACT,MAAhC;;AAEF,UAAID,WAAW,KAAKe,cAApB,EAAoC;AAChCH,QAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACTd,QAAAA,WAAW,CAAC;AAACE,UAAAA,KAAK,EAAGY,QAAT;AAAoBX,UAAAA,UAAU,EAAE;AAAhC,SAAD,CAAX;AAEE;AACE;;AAAA;AACF,GApBC;AAuBA,sBAGI;AAAA,qCACqBJ,YAAY,CAACG,KADlC;AAAA;AAAA;AAAA;AAAA;AAAA,UAHJ;AAOC;;GApCIN,U;;KAAAA,U;AAsCL,eAAeA,UAAf","sourcesContent":["import React from 'react';\nimport Cookies from 'js-cookie'\n\nfunction CountPosts() {\n    const token = Cookies.get('jwt');\n    const [messageliste, setWorkName] = React.useState({count: [], isFetching: false});\n    const legnthliste = messageliste.count.length;\n    const API_URL = \"http://localhost:1337/posts/count\";\n    \n    fetch(API_URL, {\n        method: 'get',\n        headers: {\n          'Authorization': `Bearer ${token}`, \n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify()\n      })\n  .then((response) => response.json()) \n  .then(function(response) {\nconsole.log(response)\n    if (response.error !== 404){\n        const responselength = response.length;\n        \n      if (legnthliste !== responselength) {\n          console.log(response);\n setWorkName({count: (response), isFetching: false});\n  \n  }\n    };\n  });\n   \n\n    return (\n        \n\n        <div>\n          Nombre de posts:  {messageliste.count}\n        </div>\n        );\n    }\n\n    export default CountPosts;"]},"metadata":{},"sourceType":"module"}