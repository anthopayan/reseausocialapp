{"ast":null,"code":"var _jsxFileName = \"/Users/kevinsasso/Desktop/THP/Next/reseausocialapp/src/pages/AddPost/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Cookies from 'js-cookie';\nimport Field from '../../components/elements/field';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AddPost() {\n  _s();\n\n  const token = Cookies.get('jwt');\n  const username = Cookies.get('username');\n  const API_URL = \"http://localhost:1337/posts\";\n  const [content, setContent] = React.useState(\"\");\n\n  const onCreateContent = event => {\n    setContent(event.target.value);\n  };\n\n  const onSend = event => {\n    event.preventDefault();\n    const data = {\n      text: content,\n      user: username\n    };\n    fetch(API_URL, {\n      method: 'post',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }).then(response => response.json()).then(function (response) {\n      if (response.error !== 404) {}\n\n      ;\n    });\n    window.location.reload(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"right\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"signUp signform\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"titleform\",\n        children: \"Cr\\xE9er un post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(Field, {\n        name: \"content\",\n        value: content,\n        onChange: onCreateContent,\n        placeholder: \"Enter text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"submitbt\",\n        type: \"submit\",\n        onClick: onSend,\n        value: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AddPost, \"KPwtwb4lt1NZxOwnjhyyIoKb9lQ=\");\n\n_c = AddPost;\nexport default AddPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddPost\");","map":{"version":3,"sources":["/Users/kevinsasso/Desktop/THP/Next/reseausocialapp/src/pages/AddPost/index.jsx"],"names":["React","Cookies","Field","AddPost","token","get","username","API_URL","content","setContent","useState","onCreateContent","event","target","value","onSend","preventDefault","data","text","user","fetch","method","headers","body","JSON","stringify","then","response","json","error","window","location","reload"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,KAAP,MAAkB,iCAAlB;;;AAIA,SAASC,OAAT,GAAmB;AAAA;;AACf,QAAMC,KAAK,GAAGH,OAAO,CAACI,GAAR,CAAY,KAAZ,CAAd;AACA,QAAMC,QAAQ,GAAGL,OAAO,CAACI,GAAR,CAAY,UAAZ,CAAjB;AACA,QAAME,OAAO,GAAG,6BAAhB;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBT,KAAK,CAACU,QAAN,CAAe,EAAf,CAA9B;;AAEA,QAAMC,eAAe,GAAIC,KAAD,IAAW;AAC/BH,IAAAA,UAAU,CAACG,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAV;AACD,GAFH;;AAME,QAAMC,MAAM,GAAIH,KAAD,IAAW;AAExBA,IAAAA,KAAK,CAACI,cAAN;AACA,UAAMC,IAAI,GAAG;AACTC,MAAAA,IAAI,EAAEV,OADG;AAEVW,MAAAA,IAAI,EAAEb;AAFI,KAAb;AAKJc,IAAAA,KAAK,CAACb,OAAD,EAAU;AACXc,MAAAA,MAAM,EAAE,MADG;AAEXC,MAAAA,OAAO,EAAE;AACP,yBAAkB,UAASlB,KAAM,EAD1B;AAEP,wBAAgB;AAFT,OAFE;AAMXmB,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeR,IAAf;AANK,KAAV,CAAL,CAQDS,IARC,CAQKC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EARlB,EASDF,IATC,CASI,UAASC,QAAT,EAAmB;AACvB,UAAIA,QAAQ,CAACE,KAAT,KAAmB,GAAvB,EAA2B,CAE1B;;AAAA;AACF,KAbC;AAcFC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;AACD,GAvBK;;AAyBF,sBAEI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA,2BACI;AAAM,MAAA,SAAS,EAAC,iBAAhB;AAAA,8BACT;AAAI,QAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADS,eAEV;AAAA,+BAAI;AAAA;AAAA;AAAA;AAAA;AAAJ;AAAA;AAAA;AAAA;AAAA,cAFU,eAMV,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC,SAAZ;AAAsB,QAAA,KAAK,EAAExB,OAA7B;AAAsC,QAAA,QAAQ,EAAEG,eAAhD;AAAiE,QAAA,WAAW,EAAC;AAA7E;AAAA;AAAA;AAAA;AAAA,cANU,eAQT;AAAO,QAAA,SAAS,EAAC,UAAjB;AAA4B,QAAA,IAAI,EAAG,QAAnC;AAA4C,QAAA,OAAO,EAAEI,MAArD;AAA6D,QAAA,KAAK,EAAG;AAArE;AAAA;AAAA;AAAA;AAAA,cARS;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UAFJ;AAeC;;GApDIZ,O;;KAAAA,O;AAsDL,eAAeA,OAAf","sourcesContent":["import React from 'react';\nimport Cookies from 'js-cookie'\nimport Field from '../../components/elements/field';\n\n\n\nfunction AddPost() {\n    const token = Cookies.get('jwt');\n    const username = Cookies.get('username');\n    const API_URL = \"http://localhost:1337/posts\";\n    const [content, setContent] = React.useState(\"\");\n\n    const onCreateContent = (event) => {\n        setContent(event.target.value);\n      };\n\n    \n\n      const onSend = (event) => {\n       \n        event.preventDefault();\n        const data = {\n            text: content,\n           user: username\n          };\n\n    fetch(API_URL, {\n        method: 'post',\n        headers: {\n          'Authorization': `Bearer ${token}`, \n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      })\n  .then((response) => response.json()) \n  .then(function(response) {\n    if (response.error !== 404){\n       \n    };\n  });\n  window.location.reload(false);\n};\n\n    return (\n        \n        <div className=\"right\">\n            <form className=\"signUp signform\" >\n   <h3 className=\"titleform\">Cr√©er un post</h3>\n\t\t<p ><br></br>\n\n\t\t</p>\n\n  <Field name=\"content\" value={content} onChange={onCreateContent} placeholder=\"Enter text\"></Field>\n   \n   <input className=\"submitbt\" type = \"submit\" onClick={onSend} value = \"Submit\"></input>\n   </form>\n        </div>\n        );\n    }\n\n    export default AddPost;"]},"metadata":{},"sourceType":"module"}