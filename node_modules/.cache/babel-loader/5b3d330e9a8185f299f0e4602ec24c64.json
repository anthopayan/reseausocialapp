{"ast":null,"code":"var _jsxFileName = \"/Users/kevinsasso/Desktop/THP/Next/reseausocialapp/src/components/LogIn/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Field from '../elements/field/index';\nimport jwt_decode from 'jwt-decode';\nimport Cookies from 'js-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SignUp() {\n  _s();\n\n  const API_URL = \"http://localhost:1337/auth/local\";\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  var value = 'jwt';\n\n  const onChangeEmail = event => {\n    setEmail(event.target.value);\n  };\n\n  const onChangePassword = event => {\n    setPassword(event.target.value);\n  };\n\n  const onRefresh = () => {\n    window.location.reload(false);\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 11\n    }, this);\n  };\n\n  const onSend = event => {\n    event.preventDefault();\n    const data = {\n      identifier: email,\n      password: password\n    };\n    fetch(API_URL, {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }).then(response => response.json()).then(response => {\n      console.log(response);\n      Cookies.set('jwt', response.jwt, {\n        expires: 7\n      });\n      Cookies.set('username', response.user.id, {\n        expires: 7\n      });\n    });\n    setTimeout(onRefresh, 1000);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"formcontainer\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"signUp signform\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"titleform\",\n        children: \"Log in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(Field, {\n        name: \"email\",\n        value: email,\n        onChange: onChangeEmail,\n        placeholder: \"Enter your Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(Field, {\n        name: \"password\",\n        value: password,\n        onChange: onChangePassword,\n        placeholder: \"Insert Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"submitbt\",\n        type: \"submit\",\n        onClick: onSend,\n        value: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 1\n  }, this);\n}\n\n_s(SignUp, \"3B3pqDcVnkT+z/sPK6Z9zQsLP+s=\");\n\n_c = SignUp;\nexport default SignUp;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"sources":["/Users/kevinsasso/Desktop/THP/Next/reseausocialapp/src/components/LogIn/index.jsx"],"names":["React","useState","Redirect","Field","jwt_decode","Cookies","SignUp","API_URL","email","setEmail","password","setPassword","value","onChangeEmail","event","target","onChangePassword","onRefresh","window","location","reload","onSend","preventDefault","data","identifier","fetch","method","headers","body","JSON","stringify","then","response","json","console","log","set","jwt","expires","user","id","setTimeout"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Redirect} from 'react-router-dom';\nimport Field from '../elements/field/index';\nimport jwt_decode from 'jwt-decode';\nimport Cookies from 'js-cookie'\nfunction SignUp  () {\n    const API_URL = \"http://localhost:1337/auth/local\"\n  \n    const [email, setEmail] = React.useState(\"\");\n    const [password, setPassword] = React.useState(\"\");\n    var value = 'jwt';\n    \n\n    const onChangeEmail = (event) => {\n        setEmail(event.target.value);\n      };\n    \n      const onChangePassword = (event) => {\n        setPassword(event.target.value);\n      };\n\n      const onRefresh = () => {\n        window.location.reload(false)\n        return (\n          <Redirect to=\"/\"/>\n          \n        )\n      };\n\n\n      const onSend = (event) => {\n        event.preventDefault();\n    const data = {\n        identifier: email,\n        password: password\n      };\n      \n      fetch(API_URL, {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      }).then (response => response.json())\n      .then((response) => {\n        console.log(response)\n        Cookies.set('jwt', response.jwt, { expires: 7 });\n        Cookies.set('username', response.user.id, { expires: 7 });\n      })\n     setTimeout(onRefresh, 1000);\n    };\n   \n    return (\n<div className=\"formcontainer\">\n   <form className=\"signUp signform\" >\n   <h3 className=\"titleform\">Log in</h3>\n\t\t<p ><br></br>\n\n\t\t</p>\n\n  <Field name=\"email\" value={email} onChange={onChangeEmail} placeholder=\"Enter your Email\"></Field>\n  <Field name=\"password\" value={password} onChange={onChangePassword} placeholder=\"Insert Password\"></Field>\n   \n   \n   <input className=\"submitbt\" type = \"submit\" onClick={onSend} value = \"Submit\"></input>\n   </form>\n </div>\n    );\n    \n}\nexport default SignUp;\n\n\n\n \n  "]},"metadata":{},"sourceType":"module"}